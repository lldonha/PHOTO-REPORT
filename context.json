{
  "files_to_modify": {
    "mobile": [],
    "web": [],
    "backend": []
  },
  "files_to_create": {
    "mobile": [
      "mobile/package.json",
      "mobile/App.tsx",
      "mobile/src/screens/CameraScreen.tsx",
      "mobile/src/screens/PhotoPreviewScreen.tsx",
      "mobile/src/screens/GalleryScreen.tsx",
      "mobile/src/screens/SettingsScreen.tsx",
      "mobile/src/services/LocationService.ts",
      "mobile/src/services/StorageService.ts",
      "mobile/src/services/SyncService.ts",
      "mobile/src/services/ApiService.ts",
      "mobile/src/services/GoogleAuthService.ts",
      "mobile/src/services/DriveService.ts",
      "mobile/src/services/OverlayService.ts"
    ],
    "web": [
      "web/package.json",
      "web/src/main.tsx",
      "web/src/App.tsx",
      "web/src/components/PhotoGrid.tsx",
      "web/src/components/PhotoCard.tsx",
      "web/src/components/PDFPreview.tsx",
      "web/src/services/DriveService.ts",
      "web/src/services/ApiService.ts",
      "web/src/services/GoogleAuthService.ts"
    ]
  },
  "files_to_reference": [
    "src/frontend/index.html",
    "src/core/exceptions.py",
    ".worktrees/001-criar-sistema-photo-report-completo/src/python/processor.py",
    ".worktrees/001-criar-sistema-photo-report-completo/src/python/overlay_generator_v2.py"
  ],
  "patterns": {
    "design_system": "LLD brand colors (navy/gold), Rajdhani headings, IBM Plex Sans body, clip-path for blueprint style",
    "api_pattern": "FastAPI with Pydantic models, CORS middleware, base64 for images, FormData for uploads",
    "overlay_pattern": "Solocator-style overlay V2 with compass, GPS, altitude in compact bar",
    "frontend_pattern": "CSS variables, state object, template literals, showToast(), modal with .hidden class",
    "react_pattern": "Functional components with hooks, TypeScript, zustand for state, react-query for API",
    "mobile_pattern": "Expo with TypeScript, expo-camera, expo-location, AsyncStorage for offline-first"
  },
  "existing_implementations": {
    "description": "Backend FastAPI exists with /processar-foto, /aplicar-mascara, /gerar-pdf endpoints. Frontend is static HTML that will be migrated to React.",
    "relevant_files": [
      ".worktrees/001-criar-sistema-photo-report-completo/src/python/processor.py",
      "src/frontend/index.html"
    ],
    "backend_endpoints": {
      "processar_foto": "POST /processar-foto - extracts EXIF, generates thumbnail and minimap",
      "aplicar_mascara": "POST /aplicar-mascara - applies overlay to image",
      "gerar_pdf": "POST /gerar-pdf - generates PDF report from photos",
      "health": "GET /health - health check"
    }
  },
  "tech_stack": {
    "backend": {
      "language": "python",
      "framework": "fastapi",
      "image_processing": "pillow",
      "pdf": "weasyprint",
      "maps": "py-staticmaps"
    },
    "mobile": {
      "language": "typescript",
      "framework": "expo (react-native)",
      "camera": "expo-camera",
      "location": "expo-location",
      "storage": "expo-file-system, AsyncStorage"
    },
    "web": {
      "language": "typescript",
      "framework": "react",
      "bundler": "vite",
      "state": "zustand",
      "api": "react-query",
      "dnd": "dnd-kit"
    }
  },
  "naming_conventions": {
    "components": "PascalCase (PhotoGrid, CameraScreen)",
    "services": "PascalCase with Service suffix (LocationService)",
    "hooks": "camelCase with use prefix (usePhotoOrder)",
    "types": "PascalCase (PhotoMetadata, DriveFile)",
    "files_ts": "PascalCase.tsx for components, camelCase.ts for utilities"
  },
  "google_drive_structure": {
    "root": "DiarioObra",
    "projects": "Projetos/[Nome do Projeto]",
    "folders": ["originais", "com_mascara", "validadas"],
    "metadata_file": "metadados.json"
  }
}
